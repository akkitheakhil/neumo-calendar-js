export default class Calendar{months=["January","February","March","April","May","June","July","August","September","October","November","December"];constructor(t,e,a){this.monthDisplay=t,this.daysDisplay=e,this.yearDisplay=a,this.currentDate=new Date,this.selectedDate={date:this.currentDate.getDate(),month:this.currentDate.getMonth(),year:this.currentDate.getFullYear()},this.calendarInit()}calendarInit(){this.currentDate.setDate(1),this.monthDisplay.innerHTML=this.months[this.currentDate.getMonth()],this.yearDisplay.innerHTML=this.currentDate.getFullYear();const t=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,0).getDate(),e=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth(),0).getDate(),a=this.currentDate.getDay(),s=7-new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,0).getDay()-1;let r,n,i="",c=this.currentDate.getFullYear();for(let t=a;t>0;t--)r=e-t+1,n=`${r},${this.currentDate.getMonth()-1},${c}`,i+=`<span class="day prev" id="${n}">${e-t+1}</span>`;for(let e=1;e<=t;e++)n=`${e},${this.currentDate.getMonth()},${c}`,this.isSelectedDate(this.currentDate.getMonth(),e,c)?i+=`<span class="day active" id="${n}">${e}</span>`:i+=`<span class="day" id="${n}">${e}</span>`;for(let t=1;t<=s;t++)n=`${t},${this.currentDate.getMonth()+1},${c}`,i+=`<span class="day next" id="${n}">${t}</span>`;this.daysDisplay.innerHTML=i,this.addEventListenerForDates()}nextMonth(){this.currentDate.setMonth(this.currentDate.getMonth()+1),this.calendarInit()}prevMonth(){this.currentDate.setMonth(this.currentDate.getMonth()-1),this.calendarInit()}addEventListenerForDates(){document.querySelectorAll(".day").forEach((t=>{t.addEventListener("click",(()=>{this.setSelectedDateClass(t)}))}))}isSelectedDate(t,e,a){return this.selectedDate.date===e&&this.selectedDate.month===t&&this.selectedDate.year===a}setSelectedDateClass(t){const e=document.querySelectorAll(".day");t.classList.contains("next")||t.classList.contains("prev")||e.forEach((e=>{t===e?(e.classList.add("active"),this.setNewSelectedDate(e.id)):e.classList.remove("active")}))}setNewSelectedDate(t){const e=t.split(","),a=e[0];let s,r;-1===Number(e[1])?(s=12,r=Number(e[2])-1):12===Number(e[1])?(s=1,r=Number(e[2])+1):(s=Number(e[1])+1,r=Number(e[2]));const n=new Date(`${s}-${a}-${r}`);this.selectedDate={date:n.getDate(),month:n.getMonth(),year:n.getFullYear()}}}